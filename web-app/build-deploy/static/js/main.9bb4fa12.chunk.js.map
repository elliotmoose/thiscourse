{"version":3,"sources":["logo.svg","constants/colors.js","constants/fonts.js","controllers/user.js","controllers/api.js","components/Button.js","components/Dashboard.js","components/Answer.js","components/Discussion.js","controllers/tree.js","components/QuestionNode.js","components/Main.js","components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["Colors","purple","green","blue","gray","lightGray","darkGray","Fonts","normal","fontFamily","bold","fontWeight","userEventEmitter","require","setUsername","_username","localStorage","setItem","removeItem","getUsername","getItem","isLoggedIn","undefined","_password","a","API","userLogin","alert","emit","sessionId","console","error","User","login","logout","registerIfNeeded","ioclient","SERVER_DOMAIN","process","log","clientSocket","nodeData","apiEventEmitter","isHost","inSession","isOnline","setNodeData","_nodeData","setIsOnline","_isOnline","setInSession","_inSession","username","discourse","fetch","method","body","JSON","stringify","headers","res","json","response","roomId","message","socketConnect","Promise","resolve","reject","on","data","nodes","Object","values","length","ownerId","warn","question","parentId","node","answerId","nodeId","password","success","createSession","joinOrRestartSession","getIsOnline","isInSession","socketDisconnect","disconnect","requestNodeData","addNode","addAnswer","answerContent","answer","content","getNodeData","getIsHost","setIsHost","_isHost","markAsCorrectAnswer","registerUser","voteAnswer","isUpVote","up","loadDashboard","Button","state","hover","this","setState","style","display","alignItems","justifyContent","textAlign","transform","boxShadow","transition","cursor","props","className","onMouseEnter","bind","onMouseLeave","onClick","children","React","Component","Dashboard","questionInput","useRef","joinSessionInput","history","useHistory","useState","ownedSessions","setOwnedSessions","joinedSessions","setJOinedSessions","push","e","preventDefault","current","value","loadSession","useEffect","dashboard","ownedRooms","prevRooms","flexDirection","flex","maxHeight","margin","boxSizing","color","fontSize","height","width","backgroundColor","borderRadius","marginLeft","marginTop","outline","border","padding","paddingLeft","marginBottom","ref","placeholder","prompt","map","eachSession","i","id","Answer","item","isAnswer","disabled","useParams","vote","position","top","right","Check","marginRight","thumbsUp","thumbsDown","Discussion","questionNodeId","setNode","textAreaRef","answers","css","visibility","left","background","title","showBanner","goBack","FullscreenExit","correctAnswerId","recurseWidths","nodeWidth","Math","max","dfs","visited","rootNode","arr","l","level","idx","out_arr","has","err","add","ii","out_idx","Tree","buildTree","_nodes","parse","find","byLevel","levels","Set","queue","tempQueue","QuestionNode","correctAnswer","left_offset","minWidth","maxWidth","wordBreak","Fullscreen","alignSelf","Add","Main","setRootNode","nodesByLevel","setNodesByLevel","sideBarExpand","setSideBarExpand","modalOpen","setModalOpen","resource","resourceTitle","resourceType","resourceURL","resources","setResources","coverImgURL","setCoverImgURL","treeRoot","_nodesByLevel","owner","online","room","onLoadSession","listen","location","action","pathname","match","handleChange","event","target","name","branch_width","onChange","selected","curResList","onToggle","href","textDecoration","Toggle","Nav","type","idnex","background_img","backgroundSize","backgroundImage","marginBlockStart","marginBlockEnd","lineHeight","minHeight","backgroundPosition","ans","Edit","slice","index","parent","node_branches_bot","node_branches_top","dfs_level","x","level_width","draw_roof","includes","Login","setLoggedIn","usernameInput","passwordInput","onSubmitLogin","to","onKeyPress","key","AuthRoute","component","routeProps","render","App","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9bb4fa12.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\nconst Colors = {\n    purple: \"#8A99E7\",\n    green: \"#3DCE66\",\n    blue: \"#27ADE7\",\n    gray: \"#B8B8B8\",\n    lightGray: \"#F8F8F8\",\n    darkGray: \"#484848\",\n}\n\nexport default Colors;","const Fonts = {\n    normal : {\n        fontFamily: 'montserrat'\n    },\n    bold : {\n        fontFamily: 'montserrat',\n        fontWeight: 'bold'\n    }\n}\n\nexport default Fonts;","import API from \"./api\";\n\nconst EventEmitter = require('events');\nclass UserEventEmitter extends EventEmitter {}\nlet userEventEmitter = new UserEventEmitter();\n\nfunction setUsername(_username) {\n  if(!_username) {\n    localStorage.removeItem('username')  ;\n  }\n  else {\n    localStorage.setItem('username', _username);\n  }\n}\n\nfunction getUsername() {\n    return localStorage.getItem('username');\n}\n\nfunction isLoggedIn() {\n  return getUsername() !== null && getUsername() !== undefined;\n}\n\nasync function login(_username, _password) {  \n  let success = await API.userLogin(_username, _password);\n  \n  if(success) {\n    setUsername(_username);\n  }\n  else {\n    alert('Login failed: Wrong username or password');\n  }\n\n  userEventEmitter.emit('login-update');\n}\n\nasync function logout() {\n  setUsername(undefined);\n  userEventEmitter.emit('login-update');\n}\n\nasync function registerIfNeeded(sessionId) {\n  if(!isLoggedIn()) {\n    console.error(\"WARNING: user not logged in\");\n  }\n  return true;\n}\n\nconst User = { login, logout, setUsername, getUsername, registerIfNeeded, isLoggedIn, userEventEmitter }\nexport default User;","import User from './user';\n\nconst ioclient = require('socket.io-client');\n\nconst SERVER_DOMAIN = `${process.env.REACT_APP_SERVER_HOST}:${process.env.REACT_APP_SERVER_PORT}`;\nconsole.log(\"Server: \", SERVER_DOMAIN);\nconst EventEmitter = require('events');\nclass APIEventEmitter extends EventEmitter {}\nlet apiEventEmitter = new APIEventEmitter();\n\nlet clientSocket;\nlet nodeData;\nlet isHost = false;\nlet inSession = false;\nlet isOnline = false;\n\nfunction getNodeData() {\n    return nodeData;\n}\n\nfunction setNodeData(_nodeData) {\n    nodeData = _nodeData;\n}\n\nfunction setIsHost(_isHost) {\n    isHost = _isHost;\n}\nfunction getIsHost() {\n    return isHost;\n}\n\nfunction setIsOnline(_isOnline) {\n    isOnline = _isOnline;\n    apiEventEmitter.emit('update-is-online');\n}\nfunction getIsOnline() {\n    return isOnline;\n}\n\nfunction isInSession() {\n    return inSession;\n}\n\nfunction setInSession(_inSession) {\n    inSession = _inSession;\n}\n\nasync function createSession(username, discourse) {\n    if(!username) {\n        alert(\"Please login again\");        \n    }\n\n    if(!discourse) {\n        alert(\"Please enter a question\");\n    }\n    let res = await fetch(`${SERVER_DOMAIN}/api/create-session`, {\n        method: 'POST',\n        body: JSON.stringify({ username, discourse }),\n        headers: { 'Content-Type': 'application/json' }\n    })\n\n    let response = await res.json();\n    return response;\n}\n\nasync function joinOrRestartSession(username, roomId) {\n    if(!username || !roomId) {\n        console.error('no username or roomid specified');\n        return;\n    }\n\n    try {\n        let res = await fetch(`${SERVER_DOMAIN}/api/join-restart-session`, {\n            method: 'POST',\n            body: JSON.stringify({ username, roomId }),\n            headers: { 'Content-Type': 'application/json' }\n        })\n    \n        let response = await res.json();\n        return response;\n    } catch (error) {\n        return {\n            error: error.message\n        }\n    }\n}\n\nasync function loadDashboard(username) {\n    if(!username) return {\n        error: 'no username provided'\n    };\n\n    let res = await fetch(`${SERVER_DOMAIN}/api/load-dashboard`, {\n        method: 'POST',\n        body: JSON.stringify({ username }),\n        headers: { 'Content-Type': 'application/json' }\n    })\n\n    let response = await res.json();\n    return response;\n}\n\n\nfunction socketConnect(roomId) {\n    return new Promise((resolve, reject) => {\n        clientSocket = new ioclient(`${SERVER_DOMAIN}/${roomId}`);\n        clientSocket.on('connect', resolve);\n        clientSocket.on('disconnect', ()=>{\n            console.log('==CLIENT DISCONNECT EVENT')\n            setIsOnline(false);                        \n        });\n        clientSocket.on('error', (data)=>alert(data));\n        clientSocket.on('nodes-update', (data) => {\n            if(!data || !data.nodes) {\n                console.log('updated with null');\n                console.log(data.nodes)\n                return;\n            }\n            console.log(`= client: data received (${Object.values(data.nodes).length} node(s))`);\n            setNodeData(data.nodes);\n            apiEventEmitter.emit('nodes-update', data.nodes);\n        });\n\n        clientSocket.on('check-is-owner', (ownerId)=>{\n            if(ownerId === User.getUsername()) {\n                clientSocket.emit('claim-ownership', ownerId);\n            }\n        });\n    })\n}\n\nfunction socketDisconnect() {\n    console.log('=== disconnecting...')\n    if(clientSocket) {\n        clientSocket.disconnect();\n        clientSocket = undefined;\n    }\n    setInSession(false);\n}\n\nasync function requestNodeData(roomId) {\n    if(clientSocket === undefined) {\n        console.warn('No socket found: reconnecting...');\n        await socketConnect(roomId);\n    }   \n    \n    clientSocket.emit('get-nodes', { roomId });\n}\n\nasync function addNode(username, question, parentId, roomId) {\n    if(clientSocket === undefined) {\n        console.error('No socket found: could not connect');\n        await socketConnect(roomId);\n    }   \n    \n    clientSocket.emit('add-node', { node: { username, question }, parentId, roomId});\n}\n\nasync function markAsCorrectAnswer(answerId, nodeId, roomId) {\n    if(clientSocket === undefined) {\n        console.error('No socket found: could not connect');\n        await socketConnect(roomId);\n    }   \n    \n    clientSocket.emit('mark-answer', { answerId, nodeId, roomId});\n}\n\n\nfunction addAnswer(username, answerContent, nodeId, roomId) {\n    if(clientSocket === undefined) {\n        console.error('No socket found: could not connect');\n        return {};\n    }   \n    \n    clientSocket.emit('answer', { answer: { username, content: answerContent}, nodeId, roomId});    \n}\n\nfunction voteAnswer(isUpVote, username, answerId, nodeId, roomId) {\n    if(clientSocket === undefined) {\n        console.error('No socket found: could not connect');\n        return {};\n    }   \n    \n    clientSocket.emit('vote-answer', { up: isUpVote, username, answerId, nodeId, roomId });    \n}\n\nasync function registerUser(username, roomId) {\n    let res = await fetch(`${SERVER_DOMAIN}/api/register-user`, {\n        method: 'POST',\n        body: JSON.stringify({ username, roomId }),\n        headers: { 'Content-Type': 'application/json' }\n    })\n\n    let response = await res.json();\n    if(response.username) {\n        return response.username;\n    }\n}\n\nasync function userLogin(username, password) {\n    let res = await fetch(`${SERVER_DOMAIN}/api/login`, {\n        method: 'POST',\n        body: JSON.stringify({ username, password }),\n        headers: { 'Content-Type': 'application/json' }\n    })\n\n    let response = await res.json();\n    if(response.success) {\n        return true;\n    }\n\n    return false;\n}\n\nconst API = { createSession, joinOrRestartSession, getIsOnline, setIsOnline, isInSession,setInSession, socketConnect, socketDisconnect, requestNodeData, addNode, addAnswer, apiEventEmitter, nodeData, getNodeData, setNodeData, getIsHost, setIsHost, markAsCorrectAnswer, registerUser, userLogin, voteAnswer, loadDashboard};\nexport default API;","import React from 'react';\n\nexport default class Button extends React.Component {\n    state = {\n        hover: false\n    }\n    onMouseEnter() {\n        this.setState({hover: true});\n    }\n    \n    onMouseLeave() {\n        this.setState({hover: false});\n    }\n\n    render() {\n        return <div style={{        \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'center', \n                textAlign: 'center',\n                // padding: '8px 12px', \n                transform: this.state.hover && 'scale(1.03)',\n                boxShadow: this.state.hover && \"2px 3px 10px rgba(0, 0, 0, 0.1)\",\n                transition: '0.2s',\n                cursor: 'pointer',        \n                ...this.props.style\n            }}\n            className={this.props.className}\n            onMouseEnter={this.onMouseEnter.bind(this)} \n            onMouseLeave={this.onMouseLeave.bind(this)}\n            onClick={this.props.onClick}\n        >\n            {this.props.children}\n        </div>\n    }\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Colors from '../constants/colors';\nimport Fonts from '../constants/fonts';\nimport API from '../controllers/api';\nimport User from '../controllers/user';\nimport Button from './Button';\n \nconst Dashboard = () => {\n\tlet questionInput = useRef();\n\tlet joinSessionInput = useRef();\n\n\tlet history = useHistory()\n\n\tlet cover_img_url = \"\";\n\n\t//test\n\tlet session = {\n\t\tquestion: 'What is life?',\n\t\troomId: 'testID'\n\t}\n\tlet [ownedSessions, setOwnedSessions] = useState([]);\n\tlet [joinedSessions, setJOinedSessions] = useState([]);\n\t\n\tasync function onLogout() {\n\t\tawait User.logout();\n\t\thistory.push(`/login`);\n\t}\n\tasync function onStartSession(e) {\n\t\te.preventDefault();\n\t\tlet username = User.getUsername();\n\t\tlet discourse = questionInput.current.value;\n\t\t// TODO: HEY SEAN, can help me change this API create session by adding the cover image url to the room object? THANK YOU! \n\t\t// so it would be like  API.createSession(username, discourse, cover_img_url); \n\t\tlet response = await API.createSession(username, discourse);\n\t\tif(!response) return;\n\t\tlet { roomId } = response;\n\t\tif(!roomId) return;\n\t\thistory.push(`/session/${roomId}/`);\n\t}\n\n\tfunction onCoverImageClicked(){\n\t\tcover_img_url = prompt(\"Enter image URL\");\n\t}\n\t\n\tfunction onJoinSession() {\n\t\tlet roomId = joinSessionInput.current.value;\n\t\tloadSession(roomId);\n\t}\n\t\n\tfunction loadSession(roomId) {\n\t\thistory.push(`/session/${roomId}/`);\n\t}\n\n\tuseEffect(()=>{\n\t\t(async ()=>{\n\t\t\tlet dashboard = await API.loadDashboard(User.getUsername());\n\t\t\tif(dashboard.error) {\n\t\t\t\talert(dashboard.error);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(dashboard.ownedRooms) {\n\t\t\t\t\tsetOwnedSessions(dashboard.ownedRooms);\n\t\t\t\t}\n\t\t\t\tif(dashboard.prevRooms){\n\t\t\t\t\tsetJOinedSessions(dashboard.prevRooms);\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\n\t}, []);\n\n    return (\n\t\t<div className=\"fullscreen\" style={{display: 'flex', flexDirection: 'column'}}>\n\t\t<div style={{flex: 1, maxHeight: 60, display: 'flex', flexDirection: 'row', margin: 20, boxSizing: 'border-box', alignItems: 'center'}}>\n\t\t\t<div style={{...Fonts.bold, color: Colors.purple, fontSize: '3rem'}}>Dialektikós</div>\n\t\t\t<div style={{flex: 1}}/>\n\t\t\t<div style={{...Fonts.bold, color: Colors.gray, fontSize: '1rem'}}>{User.getUsername()}</div>\n\t\t\t<Button onClick={onLogout} style={{height: 60, width: 60, backgroundColor: Colors.gray, borderRadius: 30, marginLeft: 20}}></Button>\n\t\t</div>\n\t\t<div style={{display: 'flex', flexDirection: 'row', }}>\t\t\t \n\t\t\t<div style={{flex: 1}}>\n\t\t\t\t<div style={{width: 300, marginLeft: 40}}>\n\t\t\t\t\t<input style={{...Fonts.bold, marginTop: 20, boxSizing: 'border-box',outline: 0, border: 0, borderRadius: 8, backgroundColor: Colors.lightGray, height: 50, width: '100%', padding: 4, paddingLeft: 14, marginBottom: 8}} ref={questionInput} placeholder=\"Enter a Question\"></input>\n\t\t\t\t\t<Button style={{...Fonts.bold, marginTop: 20, backgroundColor: Colors.gray, height: 50, width: '60%', borderRadius: 8, color: 'white'}} onClick={onCoverImageClicked}><div>Cover image</div></Button>\n\t\t\t\t\t<Button style={{...Fonts.bold, marginTop: 20, backgroundColor: Colors.green, height: 50, width: '100%', borderRadius: 8, color: 'white'}} onClick={onStartSession}><div>Start a new Session</div></Button>\n\t\t\t\t\t<div style={{...Fonts.bold, color: Colors.purple, marginTop: 20}}>Restart an old session:</div>\n\t\t\t\t\t{ownedSessions.map((eachSession, i) => <Button key={`${i}`} onClick={()=>loadSession(eachSession.id)} style={{backgroundColor: 'white', marginTop: 20, height: 60, borderRadius: 8, ...Fonts.bold, color: Colors.darkGray}}>{eachSession.question}</Button>)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style={{flex: 1}}>\n\t\t\t\t<div style={{width: 300, marginLeft: 40}}>\n\t\t\t\t\t<input style={{...Fonts.bold, marginTop: 20, boxSizing: 'border-box',outline: 0, border: 0, borderRadius: 8, backgroundColor: Colors.lightGray, height: 50, width: '100%', padding: 4, paddingLeft: 14, marginBottom: 8}} ref={joinSessionInput} placeholder=\"Enter a Session ID\"></input>\n\t\t\t\t\t<Button style={{...Fonts.bold, marginTop: 20, backgroundColor: Colors.green, height: 50, width: '100%', borderRadius: 8, color: 'white'}} onClick={onJoinSession}><div>Join an active Session</div></Button>\n\t\t\t\t\t<div style={{...Fonts.bold, color: Colors.purple, marginTop: 20}}>You also joined these Sessions</div>\n\t\t\t\t\t{joinedSessions.map((eachSession, i) => <Button key={`${i}`} onClick={()=>loadSession(eachSession.id)} style={{backgroundColor: 'white', marginTop: 20, height: 60, borderRadius: 8, ...Fonts.bold, color: Colors.darkGray}}>{eachSession.question}</Button>)}\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t</div> \n    );\n}\n \nexport default Dashboard;","import ThumbUpIcon from '@material-ui/icons/ThumbUp';\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown';\nimport API from '../controllers/api';\nimport { useParams } from 'react-router';\nimport { Check } from '@material-ui/icons';\nimport Button from './Button';\nimport User from '../controllers/user';\n\nexport default function Answer(props) {\n    let { nodeId, item, isAnswer, disabled} = props;\n    let { sessionId } = useParams();\n    let isHost = API.getIsHost(sessionId);\n    \n    function markAsCorrectAnswer() {\n        let answerId = item.id;\n        API.markAsCorrectAnswer(answerId, nodeId, sessionId);\n    }\n\n    async function vote(isUpVote) {\n      let success = await User.registerIfNeeded(sessionId);\n      if(success) {\n        let username = User.getUsername();\n        API.voteAnswer(isUpVote, username, item.id, nodeId, sessionId);\n      }\n    }\n\n    return <div className = {`discussion-box ${isAnswer &&  'correct-answer-box'}`}>\n    {isHost && <Button disabled={disabled} onClick={markAsCorrectAnswer} style={{position: 'absolute', top: 5, right: 5, borderRadius: 25, padding: 6}}>\n        <Check style={{height: 25, width: 25, color: isAnswer ? '#87DEBF' : 'gray'}}/>\n    </Button>}\n    <div className =\"box-content\">\"{item.content}\"</div>\n    <div className =\"box-name\">- {item.username}</div>\n    <div className =\"box-vote\">\n      <div disabled={disabled} onClick={()=>vote(true)} className=\"thumb\"><ThumbUpIcon style={{color: '#87DEBF', width: 18, height: 18, cursor: 'pointer'}}/></div>\n      <div style={{marginRight: 12, fontWeight: 500, color: '#87DEBF'}} >{item.thumbsUp?.length}</div>\n      <div disabled={disabled} onClick={()=>vote(false)} className=\"thumb\"><ThumbDownIcon style={{color: '#DE8787', width: 18, height: 18, cursor: 'pointer'}}/></div>\n      <div style={{fontWeight: 500, color: '#DE8787'}}>{item.thumbsDown?.length}</div>\n    </div>\n  </div>  \n}","import logo from '../logo.svg';\nimport '../App.css';\nimport Answer from './Answer';\nimport { useHistory, useParams } from 'react-router';\nimport API from '../controllers/api';\nimport { useEffect, useRef, useState } from 'react';\nimport { FullscreenExit } from '@material-ui/icons';\nimport User from '../controllers/user';\nimport Banner from 'react-js-banner';\n\nfunction Discussion(props) {\n  const { sessionId, questionNodeId } = useParams();\n  \n  const history = useHistory()\n  let [node, setNode] = useState(undefined);\n  let [isOnline, setIsOnline] = useState(API.getIsOnline());\n  let textAreaRef = useRef();\n\n  useEffect(()=>{\n    API.apiEventEmitter.on('update-is-online', ()=>{\n\t\t\tsetIsOnline(API.getIsOnline());\n\t\t})\n\n    if(!API.getNodeData()) {\n      API.requestNodeData(sessionId);\n    }\n    else {\n      let nodeData = API.getNodeData()[questionNodeId];\n      setNode(nodeData);\n    }\n    API.apiEventEmitter.on('nodes-update', (data)=>{\n      let nodeData = data[questionNodeId];\n      setNode(nodeData);\n    });\n  },[])\n\n\n  if(!API.getNodeData()) {      \n    return <div>no node data yet</div>\n  }\n\n  if(!node) {\n    return <div>invalid question id: {questionNodeId}</div>\n  }\n\n\n  // const data = [\n  //   {content:\"hello\",name:\"Elliot\"},\n  //   {content:\"hello my name is\",name:\"Sean\"},\n  //   {content:\"hello i love nick bostrom hello i love nick bostrom hello i love nick bostrom hello i love nick bostrom hello i love nick bostrom \",name:\"Viet\"},\n  //   {content:\"hello i m very smart <3\",name:\"Yong Chun\"},\n  //   {content:\"hello i m very smart <3 hello i m very smart <3hello i m very smart <3hello i m very smart <3hello i m very smart <3hello i m very smart <3\",name:\"Yong Chun\"},\n  //   ]\n\n  let answers = Object.values(node?.answers) || []\n  let question = node.question;\n\n  const InputTitle = () => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Enter') {\n        console.log('do validate')\n      }\n    }\n    return <input style={{fontWeight:\"bold\",fontSize:24,padding:10}} type=\"text\" onKeyDown={handleKeyDown} />\n  }\n\n\n  function exitDiscussion() {\n    history.goBack();\n  }\n\n  async function submitAnswer() {\n    let success = await User.registerIfNeeded(sessionId);\n    if(success) {\n      API.addAnswer(User.getUsername(), textAreaRef.current.value, node.id, sessionId);\n      textAreaRef.current.value = \"\";\n    }\n  }\n  \n  return (\n    <div className='container'>\n      <Banner css={{ visibility:  `${isOnline ? \"hidden\" : \"visible\"}` , position:\"relative\", left:'15%', marginTop:'2%' ,  width:\"70%\",  borderRadius:10, background:\"#95a5a6\", color: \"white\"}} title=\"The session is currently offline, please contact session owner to restart session.\"  showBanner={true} />\n      <div className=\"discussion\">\n        <div onClick={exitDiscussion} style={{display: 'flex', justifyContent: 'flex-end', position: 'static', top: 12, right: 12, alignItems: 'center', cursor: 'pointer'}}>\n            <div style={{marginLeft: -5, height: 25, width: 25}}><FullscreenExit style={{color: '#B0B0B0'}}/></div>                \n            <div style={{color: '#B0B0B0', fontSize: 18}}>Click To Close Discussion</div>\n        </div>\n        \n        <div className=\"discussion-title\">\n          <div style={{marginBottom:\"20px\"}}>{question}</div>\n          {/* <InputTitle type=\"text\"></InputTitle> */}\n        </div>\n        <div className=\"discussion-body-container\">\n          <div className=\"discussion-body\">\n            {answers.map((item) => {\n              let isAnswer = (item.id == node.correctAnswerId && item.id !== undefined)\n              return <Answer nodeId={node.id} item={item} isAnswer={isAnswer} disabled={!isOnline}/>;\n            })}\n          </div>\n          <div style={{flex: 1}}/>\n        </div>\n        <div className=\"discussion-textbox\">\n          <textarea className=\"discussion-textarea\" ref={textAreaRef}></textarea>\n          <div disabled = {!isOnline} className=\"discussion-submit\" onClick={submitAnswer}>submit</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\nexport default Discussion;\n","function buildTree(_nodes) {\n    let nodes = JSON.parse(JSON.stringify(_nodes));\n    let nodesArray = Object.values(nodes);\n    for (let node of nodesArray) {\n        if(!nodes[node.parentId]) {\n            continue;\n        }\n\n        if(nodes[node.parentId].children) {\n            nodes[node.parentId].children.push(node);            \n        }\n        else {\n            nodes[node.parentId].children = [node];            \n        }\n    }\n    \n    let rootNode = Object.values(nodes).find((node)=>node.parentId==null);    \n\n    recurseWidths(rootNode);\n    return rootNode;\n}\n\n\nfunction recurseWidths(node) {\n    let width = 0;\n    \n    if(node.children) {\n        for (let child of node.children) {\n            width += recurseWidths(child);\n        }\n    }\n\n    let nodeWidth = Math.max(1, width);\n    node.width = nodeWidth;\n    return nodeWidth;\n}\n\nfunction dfs(visited, rootNode, arr, l, i){\n    let level = l + 1;\n    let idx = i;\n    let node = rootNode;\n    let out_arr = arr; \n    // console.log(level,idx);\n    // console.log(out_arr);\n\n\n    if(!visited.has(node.id)){\n        // console.log(visited);\n        try{\n            // try push to level\n            out_arr[level].push(idx);\n        }\n        catch(err){\n            // If level does not exist, push to new level\n            out_arr.push([idx]);\n        }\n\n        // Add to visited node\n        // console.log(`at level ${level} node ${idx}`)\n        visited.add(node.id);\n        if(node.children){\n            // If node has children, loop through children\n            for(var ii = 0; ii < node.children.length; ii++){\n                // console.log( node.children[ii]);\n                let out_idx = dfs(visited, node.children[ii], out_arr,level, idx);\n                // idx = out_idx+1;\n                // idx += 1;\n\n                // console.log(`Backtrack! out_idx: ${out_idx} idx: ${idx}`)\n                if(ii<node.children.length-1){\n                    idx = 1+out_idx;\n                }else{\n                    idx = out_idx;\n                }\n            }\n        }\n        return idx;\n        // console.log(idx);\n        \n    }\n    \n}\n\n\n\nfunction byLevel(rootNode) {\n    let levels = []\n    let out_arr = [];\n    let visited = new Set();\n\n    dfs(visited, rootNode, out_arr, -1, 1);\n\n    let node = rootNode;\n    let queue = [rootNode];\n    // console.log(out_arr);\n    while(queue.length != 0) {\n        let tempQueue = [] \n        for(let node of queue) {\n            let children = node.children;\n            if(!children) {\n                continue;\n            }\n            //append to temp queue\n            tempQueue = [...tempQueue, ...children];\n        }\n        \n        levels.push(queue);\n        queue = tempQueue;\n    }\n\n    for(var i=0; i< levels.length; i++){\n        for(var ii=0; ii< levels[i].length; ii++){\n            levels[i][ii].width = out_arr[i][ii];\n        }\n\n    }\n\n    // console.log(levels);\n    return levels;\n}\nconst Tree = { buildTree, byLevel, dfs};\nexport default Tree;","import { useHistory, useParams } from \"react-router\";\nimport { Add, Fullscreen } from '@material-ui/icons';\nimport API from \"../controllers/api\";\nimport User from \"../controllers/user\";\n\nexport default function QuestionNode(props) {\n\tlet node = props.item;\n\tlet disabled = props.disabled;\n\tvar width = 1*25;\n\n\n    let history = useHistory();\n    let { sessionId } = useParams();\n    \n    function viewDiscussion() {\n        history.push(`discussion/${node.id}`);\n    }\n\n    function addNode() {\n        let question = prompt('Enter a question:');\n        if(question) {\n            API.addNode(User.getUsername(), question, node.id, sessionId);\n        }\n    }\n\n    let correctAnswer = node.answers && node.answers[node.correctAnswerId];\n\n    return <th style={{width:`${width}em`}} className=\"tree-node\">\n\t\t<div style={{display: 'flex' , marginLeft:`${node.left_offset}em`}}>\n            <div className = \"tree-node-container\">            \n                <p style={{color: '#8A99E7', fontWeight: 800}}>{node.question}</p>\n                <div style={{display: 'flex', marginBottom: 12}}>\n                    <div style={{backgroundColor: '#8A99E7', minWidth: 7, maxWidth: 7, borderRadius: 10, marginRight: 12}}/>\n                    <p style={{wordBreak: 'break-all'}}>{correctAnswer === undefined ? 'discussion in progress...' : `\"${correctAnswer.content}\"`}</p>                \n                </div>\n                {correctAnswer && <div style={{textAlign: 'end'}}>-{correctAnswer.username}</div>}\n                <div onClick={viewDiscussion} style={{display: 'flex', marginBottom: 8, alignItems: 'center', cursor: 'pointer'}}>\n                    <div style={{marginLeft: -5, height: 25, width: 25}}><Fullscreen style={{color: '#B0B0B0'}}/></div>                \n                    <div style={{color: '#B0B0B0'}}>Click To View Discussion</div>\n                </div>            \n            </div>\n            {/* <div onClick={addNode} style={{width: 20, height: 20, backgroundColor: 'lightgray', alignSelf: 'flex-end', marginBottom: 8, marginLeft: 8, borderRadius: 10, cursor: 'pointer'}}><Add style={{width: 20, height: 20}}/></div> */}\n            <button  disabled={disabled ? false : true}  onClick={addNode} style={{  padding:0 ,  width: 25, height: 24, backgroundColor: 'lightgray', alignSelf: 'flex-end', marginBottom: 8, marginLeft: 8, borderRadius: 20, cursor: 'pointer'}}><Add style={{width: 20, height: 20}}/></button>\n\t\t\n        </div>\n\t</th>\n}","import { Edit, Add, SettingsBrightnessSharp } from '@material-ui/icons';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router';\nimport API from '../controllers/api';\nimport Tree from '../controllers/tree';\nimport User from '../controllers/user';\nimport Fonts from '../constants/fonts';\nimport Colors from '../constants/colors';\nimport Banner from 'react-js-banner';\n\n\nimport QuestionNode from './QuestionNode'\n\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav';\n\n// Be sure to include styles at some point, probably during your bootstraping\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport { useHistory } from 'react-router-dom';\n\nconst Main = () => {\n    const { sessionId } = useParams();\n\tconst history = useHistory();\n    \n    let [rootNode, setRootNode] = useState({});\n    let [nodesByLevel, setNodesByLevel] = useState([]);\n    let [sideBarExpand, setSideBarExpand] = useState(false);\n    let [modalOpen, setModalOpen] = useState(false);\n    let [isOnline, setIsOnline] = useState(API.getIsOnline());\n// TODO: SAMPLE RESOURCE OBJECT, PLEASE SEAN HELP ME ADD THIS TO THE ROOM FIREBAASE OBJECT THANK YOU#################\n\tlet resource = {resourceTitle:\"\", resourceType:\"article\", resourceURL:\"\"} \t\t\t\t\t\t\t\t\t//###\n// ##################################################################################################################\n\n\tlet [resources, setResources] = useState([{resourceTitle:\"Life of Pi\", resourceURL:\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\", resourceType:\"book\"},{resourceTitle:\"HowToWrite\", resourceURL:\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\", resourceType:\"video\"}]);\n\tlet [coverImgURL, setCoverImgURL] = useState(\"https://www.shutterstock.com/blog/wp-content/uploads/sites/5/2017/08/nostalgia_design.jpg\");\n\t// let coverImgURL = \"https://www.shutterstock.com/blog/wp-content/uploads/sites/5/2017/08/nostalgia_design.jpg\";\n\tasync function onLoadSession() {\n\n\t\tlet username = User.getUsername();\n\n\t\tconsole.log(`In Session: ${API.isInSession()}`);\n\t\tif(API.isInSession()) {\n\t\t\t//if in session, just load from memory\n\t\t\tlet treeRoot = Tree.buildTree(API.getNodeData());\n\t\t\tsetRootNode(treeRoot);\n\t\t\tlet _nodesByLevel = Tree.byLevel(treeRoot);\n\t\t\tsetNodesByLevel(_nodesByLevel);\n\t\t\treturn;\n\t\t}\n\n\t\tlet response = await API.joinOrRestartSession(username, sessionId);//join if not owner, restart if owner\n\t\tif(!response || response.error) {\n\t\t\talert(response.error ? response.error : 'failed to enter session');\n\t\t\thistory.push(`/`); //reset to main page on session fail\n\t\t\treturn;\n\t\t}\n\n\t\tif(response.owner !== null && response.owner !== undefined) {\n\t\t\tAPI.setIsHost(response.owner);\n\t\t}\n\n\t\tconsole.log(`Room Status: Online: ${response.online} Owner: ${response.owner}`);\n\t\tAPI.setIsOnline(response.online === true ? true : false);\n\t\tif(response.online === false) {\n\t\t\t//static data from response\n\t\t\tlet nodeData = response.room.nodes;\n\t\t\tlet treeRoot = Tree.buildTree(nodeData);\n\t\t\tsetRootNode(treeRoot);\n\t\t\tlet _nodesByLevel = Tree.byLevel(treeRoot);\n\t\t\tsetNodesByLevel(_nodesByLevel);\n\t\t\t//update for offline state\n\t\t\tAPI.setNodeData(nodeData);\n\t\t\tAPI.setInSession(true);\n\t\t\treturn;\n\t\t}\n\n\t\tAPI.setInSession(true);\n\n\t\t//IMPLEMENTATION NOTE: if session is validated to be online, connect to it\n\t\tawait API.socketConnect(sessionId);\n\t\t\n\t\tAPI.requestNodeData(sessionId); //socket request\n\t}\n\n    useEffect(()=>{\n\t\tAPI.apiEventEmitter.on('update-is-online', ()=>{\n\t\t\tsetIsOnline(API.getIsOnline());\n\t\t})\n\t\tAPI.apiEventEmitter.on('nodes-update', (data)=>{\n\t\t\tlet treeRoot = Tree.buildTree(data);\n\t\t\tsetRootNode(treeRoot);\n\t\t\tlet _nodesByLevel = Tree.byLevel(treeRoot);\n\t\t\tsetNodesByLevel(_nodesByLevel);\n\t\t});\n\n\t\t//check if session is online\n\t\t//if session offline, display static data\n\t\t//else, connect\t\t\n\t\tonLoadSession();\n\n\t\thistory.listen((location, action)=>{\n\t\t\tif(!location.pathname.match('^/session')) {\n\t\t\t\t//reset connection\n\t\t\t\tAPI.socketDisconnect();\n\t\t\t}\n\t\t});\n    }, []);\n\n    var question = (nodesByLevel && nodesByLevel[0] && nodesByLevel[0][0] && nodesByLevel[0][0].question) || 'loading question...';\n\n\tfunction addNode() {\n        let question = prompt('Enter a question:');\n        if(question && nodesByLevel && nodesByLevel[0] && nodesByLevel[0][0]) {\n            API.addNode(User.getUsername(), question, nodesByLevel[0][0].id, sessionId);\n        }\n    }\n\n\tfunction addResource() {\n\t\tsetModalOpen(!modalOpen);\n    }\n\n\tfunction handleSubmit(){\n\t\tif (resource.resourceTitle && resource.resourceType && resource.resourceURL){\n\t\t\tvar curResList = resources;\n\t\t\tcurResList.push(resource);\n\t\t\tsetResources(curResList);\n\t\t\tsetModalOpen(!modalOpen);\n\t\t}else{\n\t\t\talert(\"One or more fields are empty\");\n\t\t}\n\t}\n\n\tfunction handleBack(){\n\t\tsetModalOpen(!modalOpen);\n\t}\n\n\tfunction handleResClick(){\n\t\tsetModalOpen(!modalOpen);\n\t}\n\n\tfunction changeCoverURL(){\n\t\tvar ans = prompt(\"Enter Image URL\");\n\t\tif(ans){\n\t\t\tsetCoverImgURL(ans);\n\t\t}\n\t}\n\n\tfunction handleChange(event) {\n\t\tresource[event.target.name] = event.target.value;\n\t}\n\n\tconst branch_width = 25;\n\n    return (\n\t\t\n\t\t<div className=\"container\" style={{marginLeft: `${sideBarExpand ? 9 : 0}em`}}>\n\t\t<div className=\"addResModal\" style={{display: `${modalOpen ? \"block\" : \"none\"}`, fontSize:\"1.5em\"}}>\n\t\t\t<div className=\"addResModalContent\">\n\t\t\t\t<p style={{marginTop: \"4.5em\"}}>\n\t\t\t\t\tAdd Resource\n\t\t\t\t</p>\n\t\t\t\t<div >\n\t\t\t\t\t<label>\n\t\t\t\t\t\tResource Title: &nbsp; &nbsp;\n\t\t\t\t\t\t<input name=\"resourceTitle\" onChange={handleChange} style={{fontSize: \"0.9em\"}} />\n\t\t\t\t\t</label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tURL: &nbsp; &nbsp;\n\t\t\t\t\t\t<input name=\"resourceURL\" onChange={handleChange} style={{fontSize: \"0.9em\"}} />\n\t\t\t\t\t</label>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\tResource type: &nbsp; &nbsp;\n\t\t\t\t\t<select name=\"resourceType\" onChange={handleChange} style={{fontSize: \"0.9em\"}} >\n\t\t\t\t\t\t<option selected value=\"article\">Article</option>\n\t\t\t\t\t\t<option value=\"video\">Video</option>\n\t\t\t\t\t\t<option value=\"book\">Book</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<button onClick={handleSubmit} style={{fontSize: \"0.9em\"}}>Submit</button> &nbsp; &nbsp;\n\t\t\t\t\t<button onClick={handleBack} style={{fontSize: \"0.9em\"}}>Back</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<SideNav  style={{ position:\"fixed\", background: \"#ecf0f1\", maxWidth:\"280px\", boxShadow:\"#80808082 5px 0px 20px\"}}\n\t\t\tonToggle={(selected) => {\n\t\t\t\t// Add your code here\n\t\t\t\tsetSideBarExpand(!sideBarExpand);\n\t\t\t}}\n\t\t>\n\t\t\t<a href=\"http://localhost:3000/\" className=\"main-logo\" style={{display: `${sideBarExpand ? \"inline-block\" : \"none\"}`, ...Fonts.bold , color: Colors.purple, textDecoration: \"none\" }} >Dialektikós</a>\n\t\t\t<SideNav.Toggle style={{backgroundColor: Colors.purple}}/> \n\t\t\t<SideNav.Nav >\n\t\t\t\t<p  className=\"sidebar-text\" style={{display: `${sideBarExpand ? \"inline-block\" : \"none\"}`, }}>\n\t\t\t\t\tRESOURCES\n\t\t\t\t</p>\n\t\t\t\t<br/>\n\n\t\t\t\t<button type=\"button\" disabled={!isOnline} onClick={addResource}  className=\"sidebar-text\" style={{ background: Colors.purple, borderRadius: 20, width:\"75%\", height:\"2em\", marginBottom: \"1em\",  display: `${sideBarExpand ? \"inline-block\" : \"none\"}`, cursor: 'pointer'}}>\n\t\t\t\t\t<Add style={{width: 20, height: 20 , backgroundColor:\"white\", borderRadius: 10, marginRight:\"0.5em\"}}/> Add Resources\n\t\t\t\t</button>\n\n\t\t\t\t{resources.map((level, idnex)=>\n\t\t\t\t\t{\n\t\t\t\t\t\tlet background_img = \"\"\n\t\t\t\t\t\tswitch (level.resourceType) {\n\t\t\t\t\t\t\tcase \"book\":\n\t\t\t\t\t\t\t\tbackground_img= \"https://www.publicbooks.org/wp-content/uploads/2017/01/book-e1484158615982-810x327.jpg\";\n\t\t\t\t\t\t\t  \tbreak;\n\t\t\t\t\t\t\tcase \"article\":\n\t\t\t\t\t\t\t\tbackground_img= \"https://images.unsplash.com/photo-1585241936939-be4099591252?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"video\":\n\t\t\t\t\t\t\t\tbackground_img= \"https://images.unsplash.com/photo-1567443024551-f3e3cc2be870?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbackground_img= \"https://images.unsplash.com/photo-1585241936939-be4099591252?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\";\n\t\t\t\t\t\t  }\n\t\t\t\t\t\treturn <a  target=\"_blank\" href={level.resourceURL} style={{ textAlign:\"center\" , width:\"100%\", height:\"7em\", backgroundSize: \"cover\", backgroundImage:`url(\"${background_img}\")`, marginBottom: \"1em\", display: `${sideBarExpand ? \"inline-block\" : \"none\"}`, ...Fonts.bold, cursor: 'pointer'}}>\n\t\t\t\t\t\t\t<p   style={{marginBlockStart: 0, marginBlockEnd: 0, lineHeight: \"7em\", color:\"white\", background: \"rgba(0, 0, 0, 0.479)\"}}>\n\t\t\t\t\t\t\t\t{level.resourceTitle}\t\t\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t}\n\t\t\t\t)}\n\n\t\t\t\t\n\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t</SideNav.Nav>\n\t\t</SideNav>\n\t\t\n\t\t<div style={{top:0, left:0, position:\"absolute\" ,minWidth:\"100%\", minHeight:\"12em\", backgroundImage:`url(\"${coverImgURL}\")`, backgroundSize: \"cover\" ,  backgroundPosition: \"center\"}}>\n\t\t\t<button disabled={!isOnline}  onClick={changeCoverURL} style={{  cursor: 'pointer', position:\"absolute\", top:\"1em\", right:\"1em\", border:0, backgroundColor:\"transparent\"}}>\n\t\t\t\t<Edit style={{ padding:\"0.5em\"  , width: 30, height: 30 , backgroundColor:\"white\", borderRadius: \"1.3em\", marginRight:\"0.5em\"}}/>\n\t\t\t</button>\n\t\t\t<Banner css={{ visibility:  `${isOnline ? \"hidden\" : \"visible\"}` , position:\"relative\", left:'15%', marginTop:'2%' ,  width:\"70%\",  borderRadius:10, background:\"#95a5a6\", color: \"white\"}} title=\"The session is currently offline, please contact session owner to restart session.\"  showBanner={true} />\n\n\t\t</div>\n\n\n\t\t<p style={{fontWeight: 800, fontSize: 24, marginTop: \"7em\"}}>{question}</p>\n\n\t\t<button  disabled={!isOnline}  onClick={addNode} style={{  padding:0 ,  width: 25, height: 24, backgroundColor: 'lightgray', alignSelf: 'flex-end', marginBottom: 8, marginLeft: 8, borderRadius: 20, cursor: 'pointer'}}><Add style={{width: 20, height: 20}}/></button>\n\t\t\n\n\n\t\t{/*Draw tree here*/}\n\n\t\t{nodesByLevel.slice(1).map((level, index) => \n\t\t\t{\n\t\t\t\tvar node_branches_bot = [];\n\t\t\t\tvar node_branches_top = [];\n\t\t\t\tvar nodes = [];\n\t\t\t\tvar parent;\n\t\t\t\t{/*var level_width = level.reduce((a,b)=>a+b.width,0);*/}\n\t\t\t\tvar dfs_level = level.map(x=>x.width)\n\t\t\t\tvar level_width = Math.max(...dfs_level);\n\t\t\t\tvar draw_roof = false;\n\n\n\t\t\t\tvar ii = 0;\n\t\t\t\tfor (var i = 0; i < level_width; i++){\n\t\t\t\t\tif(dfs_level.includes(i+1)){\n\t\t\t\t\t\tnodes.push(<QuestionNode key={`${ii}node`} item={level[ii]} disabled={isOnline} />);\n\n\t\t\t\t\t\tif(level[ii].parentId!=parent){\n\t\t\t\t\t\t\tparent = level[ii].parentId;\n\t\t\t\t\t\t\tnode_branches_top.push(<th className = \"tree-top\"></th>);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnode_branches_top.push(<th className = \"tree-top-hide\"></th>);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(!level[ii+1] || level[ii+1].parentId != level[ii].parentId ){\n\t\t\t\t\t\t\tnode_branches_bot.push(<th key={`${i}`} style={{width:`${branch_width}em`}} className = \"tree-bot-single\"></th>); \n\t\t\t\t\t\t\tdraw_roof = false;\n\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tnode_branches_bot.push(<th key={`${i}`} style={{width:`${branch_width}em`}} className = \"tree-bot-l\"></th>);\n\t\t\t\t\t\t\tdraw_roof = true;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tii +=1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tnode_branches_top.push(<th className = \"tree-top-hide\"></th>);\n\t\t\t\t\t\tif (draw_roof){\n\t\t\t\t\t\t\tnode_branches_bot.push(<th key={`${i}`} style={{width:`${branch_width}em`}} className = \"tree-bot-roof\"></th>);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnode_branches_bot.push(<th key={`${i}`} style={{width:`${branch_width}em`}} className = \"tree-bot-hide\"></th>);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnodes.push(<th style={{width:`${branch_width}em`}} className=\"tree-node\"></th>);\n\t\t\t\t\t}\n\t\t\t    }\n\n\t\t\t    \n\n\t\t\t\treturn <div key={`${index}`}><table className=\"tree\" style={{width: `${(level_width)*branch_width}em`}} >\n\t\t\t\t <tbody>\n\t\t\t\t <tr >\n\t\t\t\t \t{node_branches_top}\n\t\t\t\t </tr>\n\t\t\t\t <tr>\n\t\t\t\t    {node_branches_bot}\n\t\t\t\t</tr>\n\t\t\t\t  {/*<QuestionNode item={node}/>*/}\n\t\t\t\t </tbody>\n\t\t\t\t</table>\n\t\t\t\t<table style={{width: `${(level_width)*branch_width}em`}} >\n\t\t\t\t  <tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{nodes}\n\t\t\t\t\t</tr>\n\t\t\t\t  </tbody>\n\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t}\n\t\t)}\t\n\n       </div>\n    );\n}\n \nexport default Main;","import React, { useRef, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Redirect } from 'react-router-dom';\nimport Colors from '../constants/colors';\nimport Fonts from '../constants/fonts';\nimport User from '../controllers/user';\nimport Button from './Button';\n \nconst Login = () => {\n\n\tconst [isLoggedIn, setLoggedIn ] = useState(false);\n\tconst usernameInput = useRef();\n\tconst passwordInput = useRef();\n\t\n\tasync function onSubmitLogin() {\n\t\tawait User.login(usernameInput.current.value, passwordInput.current.value);\n\t\tsetLoggedIn(User.isLoggedIn());\n\t}\n\n    return (!isLoggedIn ? <div className=\"fullscreen\" style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n\t\t   <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'space-between', height: 300, width: 280}}>\n\t\t\t\t<div style={{...Fonts.bold, color: Colors.purple, fontSize: '4rem',}}>Dialektikós</div>\n\t\t\t\t<input style={{...Fonts.bold, boxSizing: 'border-box',outline: 0, border: 0, borderRadius: 8, backgroundColor: Colors.lightGray, height: 50, width: '100%', padding: 4, paddingLeft: 14, marginBottom: 8}} ref={usernameInput} placeholder=\"username\"></input>\n\t\t\t\t<input onKeyPress={(e) => {if (e.key === 'Enter') onSubmitLogin()}} type='password' style={{...Fonts.bold, boxSizing: 'border-box',outline: 0, border: 0, borderRadius: 8, backgroundColor: Colors.lightGray, height: 50, width: '100%', padding: 4, paddingLeft: 14, marginBottom: 8}} ref={passwordInput} placeholder=\"password\"></input>\n\t\t\t\t<Button style={{...Fonts.bold,backgroundColor: Colors.green, height: 50, width: '100%', borderRadius: 8, color: 'white'}} onClick={onSubmitLogin}><div>LOGIN</div></Button>\n\t\t\t\t<div style={{...Fonts.bold,color: Colors.gray, fontSize: 13}}>Don't have an account? <href style={{color: Colors.blue, textDecoration: 'underline', cursor: 'pointer'}}>Create an account</href></div>\n\t\t   </div>\n       </div> : <Redirect to=\"/\"/>);\n}\n \nexport default Login;","import logo from './logo.svg';\nimport './App.css';\nimport React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Link,\n  Redirect\n} from \"react-router-dom\"; \nimport Dashboard from './components/Dashboard';\nimport Discussion from './components/Discussion';\nimport Main from './components/Main';\nimport Login from './components/Login';\nimport User from './controllers/user';\n\n\nfunction AuthRoute({component: Component, ...routeProps}) {\n  return <Route {...routeProps} render={()=>{\n    return User.isLoggedIn() ? <Component/> : <Redirect to=\"/login\"/>\n  }}/>\n}\nclass App extends Component {\n\n  state = {\n    isLoggedIn: false\n  }\n  \n  componentDidMount() {\n    User.userEventEmitter.on('login-update', ()=>{\n      this.setState({isLoggedIn: User.isLoggedIn()});\n    });\n  }\n  \n  render() {\n    return (\n      <div className=\"fullscreen\">\n        <Router>\n        {/*All our Routes goes here!*/}\n        <AuthRoute component={Dashboard} path=\"/\" exact={true} />\n        <Route path=\"/login\" exact={true} component={Login} />\n        <AuthRoute path=\"/session/:sessionId/\" exact={true} component={Main} />\n        <AuthRoute path=\"/session/:sessionId/discussion/:questionNodeId/\" component={Discussion} />\n        </Router>\n      </div>\n    );\n  }\n}\n\n \nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}